model Account {
  id                 String     @id @default(uuid()) @map("user_id")
  createdAt          DateTime   @default(now())      @map("created_at")

  email              String     @unique              @map("email")
  password           String                          @map("password")

  isConfirmed        Boolean    @default(false)      @map("is_confirmed")

  role               Role       @default(REGULAR)    @map("user_role")
  region             String     @default("EU")       @map("user_region")

  isMetricsAllowed   Boolean    @default(true)       @map("is_metrics_allowed")
  isNsfwAllowed      Boolean    @default(false)      @map("is_nsfw_allowed")
  isAiTrainAllowed   Boolean    @default(true)       @map("is_train_AI_allowed")
  isAdvertsAllowed   Boolean    @default(true)       @map("is_adverts_allowed")

  profile            Profile?

  @@map("accounts")
}

model Profile {
  id                 String     @id @default(uuid()) @map("user_id")
  user               Account       @relation(fields: [id], references: [id])

  username           String     @unique              @map("username")
  profileDescription String?                         @map("profile_description")

  avatarUrl          String?                         @map("avatar_url")
  avatarPreviewUrl   String?                         @map("avatar_preview_url")
  iconColor          String?    @default("ffffff")   @map("icon_accent_color")

  bannerUrl          String?                         @map("banner_url")
  bannerColor        String?    @default("ffffff")   @map("banner_accent_color")

  isPublic           Boolean?   @default(true)       @map("is_public")

  @@map("profiles")
}

enum Role {
  ADMIN
  MODERATOR
  BOT
  REGULAR
}